<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>M5Wiki План</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0px;
    }
    /* Стиль для заголовка с анимацией */
    .header {
      text-align: center;
      color: #3d85c6;
      font-size: 34px;
      margin: 20px 0;
      font-family: Impact, sans-serif;
      text-shadow: 0 0 10px rgba(61, 133, 198, 0.3);
      opacity: 0;
      animation: fadeInDown 0.8s ease forwards;
    }
    
    /* Анимация fadeInDown */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    h1 {
      text-align: center;
      margin-bottom: 30px;
      font-size: 2em;
    }
    #columns {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-bottom: 30px;
      flex-wrap: nowrap;
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    #columns.fade-out {
      opacity: 0;
      transform: translateY(10px);
    }
    #columns.fade-in {
      opacity: 1;
      transform: translateY(0);
    }
    .month-column {
      background-color: #1e1e1e;
      border-radius: 12px;
      padding: 15px;
      width: 280px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.4s ease forwards;
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .month-header {
      font-size: 18px;
      text-align: center;
      margin-bottom: 12px;
      border-bottom: 1px solid #333;
      padding-bottom: 6px;
    }
    .item {
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 6px;
      background-color: #2a2a2a;
      transition: background-color 0.2s;
      cursor: pointer;
      position: relative;
    }
    .item:hover {
      background-color: #333;
    }
    .item[data-status="планируется"] { 
      border-left: 5px solid #00aaff;
    }
    .item[data-status="в процессе"] { 
      border-left: 5px solid #ffaa00;
    }
    .item[data-status="готово"] { 
      border-left: 5px solid #00cc66;
    }
    .item[data-status="приостановлено"] { 
      border-left: 5px solid #ff3333;
    }
    .content {
      display: none;
      font-size: 14px;
      color: #bbb;
      margin-top: 10px;
      line-height: 1.5;
      padding-top: 8px;
      border-top: 1px dashed #444;
    }
    .content.visible {
      display: block;
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .status {
      display: flex;
      align-items: center;
      font-size: 12px;
      color: #888;
      margin-top: 8px;
    }
    .status-icon {
      margin-right: 8px;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .status-icon svg {
      width: 18px;
      height: 18px;
    }
    .item[data-status="планируется"] .status-icon svg {
      fill: #00aaff;
    }
    .item[data-status="в процессе"] .status-icon svg {
      fill: #ffaa00;
    }
    .item[data-status="готово"] .status-icon svg {
      fill: #00cc66;
    }
    .item[data-status="приостановлено"] .status-icon svg {
      fill: #ff3333;
    }
    /* Анимация для иконки "в процессе" */
    .item[data-status="в процессе"] .status-icon svg {
      animation: spin 3s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    /* Новый стиль для блока с назначениями */
    .assign-info {
      font-size: 12px;
      color: #888;
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      flex-wrap: wrap;
      gap: 8px;
    }
    .assign-info a {
      color: #888;
      text-decoration: none;
      font-weight: normal;
    }
    .assign-info a:hover {
      text-decoration: underline;
    }
    #nav-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
    button {
      background-color: #222;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    button:hover:not(:disabled) {
      background-color: #444;
      transform: translateY(-2px);
    }
    button:disabled {
      opacity: 0.4;
      cursor: default;
    }
    .nav-icon {
      width: 16px;
      height: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .nav-icon svg {
      width: 100%;
      height: 100%;
      fill: currentColor;
    }
    /* Индикатор загрузки */
    .loading {
      text-align: center;
      padding: 20px;
      font-style: italic;
      color: #888;
    }
    /* Индикатор текущего месяца */
    .current-month {
      position: relative;
    }
    .current-month::after {
      content: "Текущий месяц";
      position: absolute;
      top: -10px;
      right: 10px;
      background-color: #015394;
      color: white;
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 10px;
    }
    /* Адаптивность для мобильных устройств */
    @media (max-width: 768px) {
      .month-column {
        width: 220px;
      }
      h1 {
        font-size: 1.5em;
      }
      .header {
        font-size: 28px;
      }
    }
    /* ===== Стили футера ===== */
    .m5-footer {
      margin-top: 80px;
      background-color: #015394;
      color: white;
      font-family: Arial, sans-serif;
      animation: fadeInPage 1.2s ease-out;
    }
    @keyframes fadeInPage {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .fade-in {
      animation: fadeInUp 1s ease-out;
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .gradient-top {
      height: 50px;
      background: linear-gradient(to bottom, black, #015394);
    }
    .m5-footer .container {
      padding: 40px;
      text-align: center;
    }
    .cards {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }
    .card {
      background-color: #003b6f;
      border-radius: 12px;
      padding: 20px;
      width: 250px;
      animation: fadeInUp 1s ease forwards;
      opacity: 0;
    }
    .card:nth-child(1) { animation-delay: 0.2s; }
    .card:nth-child(2) { animation-delay: 0.4s; }
    .card:nth-child(3) { animation-delay: 0.6s; }
    .card img {
      width: 100px;
      height: 100px;
      border-radius: 20%;
    }
    .card h3 {
      margin: 10px 0 5px;
    }
    .card p {
      font-size: 14px;
      color: #9fc5e8;
      margin-bottom: 15px;
    }
    .card a.button {
      display: inline-block;
      padding: 8px 16px;
      background-color: transparent;
      border: 2px solid #ffffff;
      color: #ffffff;
      text-decoration: none;
      border-radius: 6px;
      font-weight: bold;
      transition: background-color 0.3s, color 0.3s, transform 0.2s;
    }
    .card a.button:hover {
      background-color: #ffffff;
      color: #003b6f;
      transform: translateY(-2px);
    }
    .divider {
      height: 1px;
      background-color: #ffffff;
      opacity: 0.3;
      margin: 40px 0;
    }
    .disclaimer {
      font-size: 15px;
      color: #9fc5e8;
      line-height: 1.6;
      max-width: 800px;
      margin: 0 auto;
    }
    .disclaimer-title {
      text-align: center;
      font-family: Impact, Charcoal, sans-serif;
      font-size: 18pt;
      color: #9fc5e8;
      margin-bottom: 10px;
    }
    .avatar-small {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      object-fit: cover;
      vertical-align: middle;
      margin-right: 6px;
    }
    
    /* Стили для ошибок и предупреждений */
    .m5-github-admin-error {
      color: #ff9800;
      border-left: 4px solid #ff9800;
      background-color: rgba(255, 152, 0, 0.1);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      animation: slideInRight 0.5s ease forwards;
    }
    
    .m5-github-plan-error {
      color: #f44336;
      border-left: 4px solid #f44336;
      background-color: rgba(244, 67, 54, 0.1);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      animation: slideInRight 0.5s ease forwards;
    }
    
    @keyframes slideInRight {
      from {
        transform: translateX(-20px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    .icon {
      width: 24px;
      height: 24px;
      margin-right: 8px;
      display: inline-block;
      vertical-align: middle;
    }
    
    .icon-error {
      fill: #ff5555;
    }
    
    .icon-warning {
      fill: #ff9800;
    }
    
    .error-code, .warning-code {
      font-family: monospace;
      font-weight: bold;
      font-size: 0.9em;
      margin-top: 8px;
      text-align: right;
    }
    
    .error-code {
      color: #ff5555;
    }
    
    .warning-code {
      color: #ff9800;
    }
    
    /* Контейнер для ошибок с вертикальным расположением */
    .errors-container {
      display: flex;
      flex-direction: column;
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <h1 class="header">План по разработке M5wiki</h1>
  <div id="columns">
    <div class="loading">Загрузка данных...</div>
  </div>
  <div id="nav-buttons">
    <button id="prev" disabled>
      <span class="nav-icon">
        <svg viewBox="0 0 24 24">
          <path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z" />
        </svg>
      </span>
      Назад
    </button>
    <button id="next" disabled>
      Вперед
      <span class="nav-icon">
        <svg viewBox="0 0 24 24">
          <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" />
        </svg>
      </span>
    </button>
  </div>
<script>
  // Конфигурация
  const config = {
    adminDataUrl: "https://raw.githubusercontent.com/M5wiki/M5wikicode/main/json/admin.json",
    planDataUrl: "https://raw.githubusercontent.com/M5wiki/M5wikicode/main/json/plan.json",
    defaultVisibleCount: 4,
    mobileVisibleCount: 2,
    mobileBreakpoint: 768
  };
  // Состояние приложения
  const state = {
    currentIndex: 0,
    visibleCount: window.innerWidth <= config.mobileBreakpoint ? config.mobileVisibleCount : config.defaultVisibleCount,
    grouped: [],
    adminDataById: {},
    adminDataByUser: {},
    currentMonthKey: null,
    isTransitioning: false,
    adminDataLoaded: false,
    planDataLoaded: false
  };
  // Инициализация обработчика изменения размера окна
  window.addEventListener("resize", debounce(() => {
    state.visibleCount = window.innerWidth <= config.mobileBreakpoint ? config.mobileVisibleCount : config.defaultVisibleCount;
    state.currentIndex = 0;
    render();
  }, 200));
  // Вспомогательная функция для debounce
  function debounce(func, wait) {
    let timeout;
    return function() {
      const context = this;
      const args = arguments;
      clearTimeout(timeout);
      timeout = setTimeout(() => {
        func.apply(context, args);
      }, wait);
    };
  }
  // Загрузка данных администраторов
  async function loadAdminData() {
    try {
      const response = await fetch(config.adminDataUrl);
      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
      const users = await response.json();
      
      users.forEach(user => {
        const idKey = user.id.toLowerCase();
        const userKey = user.user.toLowerCase();
        const userData = {
          name: user.name,
          id: user.id.toLowerCase(),
          tg: user.user,
          avatar: user.avatar || null
        };
        state.adminDataById[idKey] = userData;
        state.adminDataByUser[userKey] = userData;
      });
      
      state.adminDataLoaded = true;
      return true;
    } catch (err) {
      console.error("Ошибка загрузки пользователей:", err);
      state.adminDataLoaded = false;
      return false;
    }
  }
  // Загрузка данных плана
  async function loadPlanData() {
    try {
      const response = await fetch(config.planDataUrl);
      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
      const data = await response.json();
      
      const map = {};
      data.forEach(item => {
        const key = `${item.year} ${item.month}`;
        if (!map[key]) map[key] = [];
        map[key].push(item);
      });
      
      const monthOrder = {
        "январь": 1, "февраль": 2, "март": 3, "апрель": 4,
        "май": 5, "июнь": 6, "июль": 7, "август": 8,
        "сентябрь": 9, "октябрь": 10, "ноябрь": 11, "декабрь": 12
      };
      
      state.grouped = Object.entries(map).sort((a, b) => {
        const [yearA, monthA] = a[0].split(" ");
        const [yearB, monthB] = b[0].split(" ");
        const yDiff = parseInt(yearA) - parseInt(yearB);
        if (yDiff !== 0) return yDiff;
        return monthOrder[monthA.toLowerCase()] - monthOrder[monthB.toLowerCase()];
      });
      
      // Определение текущего месяца
      const now = new Date();
      const currentYear = now.getFullYear().toString();
      const currentMonthNum = now.getMonth() + 1;
      const monthNames = Object.keys(monthOrder);
      const currentMonthName = monthNames.find(
        name => monthOrder[name] === currentMonthNum
      );
      state.currentMonthKey = `${currentYear} ${currentMonthName.toLowerCase()}`;
      
      // Установка индекса на текущий месяц
      const targetIndex = state.grouped.findIndex(([key, _]) => key.toLowerCase() === state.currentMonthKey);
      if (targetIndex !== -1) {
        state.currentIndex = Math.floor(targetIndex / state.visibleCount) * state.visibleCount;
      }
      
      state.planDataLoaded = true;
      return true;
    } catch (err) {
      console.error("Ошибка загрузки данных плана:", err);
      state.planDataLoaded = false;
      return false;
    }
  }
  // Функция для создания ссылки на пользователя
  function makeLink(idOrUser) {
    if (!idOrUser) return "";
    let user = state.adminDataById[idOrUser.toLowerCase()] || state.adminDataByUser[idOrUser.toLowerCase()];
    if (!user) return idOrUser;
    const avatarHtml = user.avatar
      ? `<img src="${user.avatar}" alt="${user.name}" class="avatar-small">`
      : "";
    return `<a href="https://t.me/${user.id}" target="_blank">${avatarHtml}${user.name}</a>`;
  }
  // Получение иконки статуса
  function getStatusIcon(status) {
    const icons = {
      "планируется": `<svg viewBox="0 0 24 24"><path d="M19,3H18V1H16V3H8V1H6V3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V8H19V19M5,6V5H19V6H5M7,10H12V15H7V10Z" /></svg>`,
      "в процессе": `<svg viewBox="0 0 24 24"><path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" /></svg>`,
      "готово": `<svg viewBox="0 0 24 24"><path d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z" /></svg>`,
      "приостановлено": `<svg viewBox="0 0 24 24"><path d="M14,19H18V5H14M6,19H10V5H6V19Z" /></svg>`
    };
    return icons[status.toLowerCase()] || `<svg viewBox="0 0 24 24"><path d="M13,9H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>`;
  }
  // Отрисовка интерфейса с анимацией
  function render() {
    if (state.isTransitioning) return;
    
    const container = document.getElementById("columns");
    
    // Добавляем класс для анимации исчезновения
    container.classList.add("fade-out");
    container.classList.remove("fade-in");
    
    state.isTransitioning = true;
    
    // Ждем завершения анимации исчезновения
    setTimeout(() => {
      container.innerHTML = "";
      
      // Проверяем, были ли ошибки при загрузке данных
      let hasErrors = false;
      
      // Создаем контейнер для ошибок с вертикальным расположением
      const errorsContainer = document.createElement("div");
      errorsContainer.className = "errors-container";
      
      if (!state.planDataLoaded) {
        hasErrors = true;
        const planErrorDiv = document.createElement("div");
        planErrorDiv.className = "m5-github-plan-error";
        planErrorDiv.innerHTML = `
          <div style="display: flex; align-items: center;">
            <svg class="icon icon-error" viewBox="0 0 24 24">
              <path d="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" />
            </svg>
            Не удалось загрузить данные плана. Пожалуйста, попробуйте обновить страницу позже.
          </div>
          <div class="error-code">M5W-GITHUB-PLAN-ERROR</div>
        `;
        errorsContainer.appendChild(planErrorDiv);
      }
      
      if (!state.adminDataLoaded) {
        hasErrors = true;
        const adminErrorDiv = document.createElement("div");
        adminErrorDiv.className = "m5-github-admin-error";
        adminErrorDiv.innerHTML = `
          <div style="display: flex; align-items: center;">
            <svg class="icon icon-warning" viewBox="0 0 24 24">
              <path d="M1,21H23L12,2L1,21ZM13,18H11V16H13V18ZM13,14H11V10H13V14Z" />
            </svg>
            Не удалось загрузить данные администраторов. Информация об исполнителях может отображаться некорректно.
          </div>
          <div class="warning-code">M5W-GITHUB-ADMIN-ERROR</div>
        `;
        errorsContainer.appendChild(adminErrorDiv);
      }
      
      // Если есть ошибки, отображаем их и выходим
      if (hasErrors) {
        container.appendChild(errorsContainer);
        
        // Добавляем класс для анимации появления
        container.classList.remove("fade-out");
        container.classList.add("fade-in");
        
        // Сбрасываем флаг перехода после завершения анимации
        setTimeout(() => {
          state.isTransitioning = false;
        }, 300);
        return;
      }
      
      // Если данных для отображения нет
      if (state.grouped.length === 0) {
        const noDataDiv = document.createElement("div");
        noDataDiv.className = "loading";
        noDataDiv.textContent = "Нет данных для отображения.";
        container.appendChild(noDataDiv);
        
        // Добавляем класс для анимации появления
        container.classList.remove("fade-out");
        container.classList.add("fade-in");
        
        // Сбрасываем флаг перехода после завершения анимации
        setTimeout(() => {
          state.isTransitioning = false;
        }, 300);
        return;
      }
      
      const slice = state.grouped.slice(state.currentIndex, state.currentIndex + state.visibleCount);
      
      slice.forEach(([key, items], idx) => {
        const col = document.createElement("div");
        col.className = "month-column";
        if (key.toLowerCase() === state.currentMonthKey) {
          col.classList.add("current-month");
        }
        col.style.animationDelay = `${idx * 0.1}s`;
        
        const header = document.createElement("div");
        header.className = "month-header";
        header.textContent = key;
        col.appendChild(header);
        
        items.forEach(item => {
          const div = document.createElement("div");
          div.className = "item";
          div.setAttribute("data-status", item.status.toLowerCase());
          
          const title = document.createElement("strong");
          title.textContent = item.title;
          
          const content = document.createElement("div");
          content.className = "content";
          content.textContent = item.content;
          
          const status = document.createElement("div");
          status.className = "status";
          
          const statusIcon = document.createElement("span");
          statusIcon.className = "status-icon";
          statusIcon.innerHTML = getStatusIcon(item.status);
          
          const statusText = document.createElement("span");
          statusText.textContent = item.status;
          
          status.appendChild(statusIcon);
          status.appendChild(statusText);
          
          div.appendChild(title);
          div.appendChild(content);
          div.appendChild(status);
          
          const assignDiv = document.createElement("div");
          assignDiv.className = "assign-info";
          
          let assignedByHtml = "Назначил: —";
          if (item.assigned_by) {
            assignedByHtml = "Назначил: " + makeLink(item.assigned_by);
          }
          
          let assignedToHtml = "Исполнители: —";
          if (item.assigned_to) {
            let assignedToList = Array.isArray(item.assigned_to) 
              ? item.assigned_to 
              : typeof item.assigned_to === 'string' 
                ? [item.assigned_to] 
                : [];
            assignedToHtml = "Исполнители: " + assignedToList.map(id => makeLink(id)).join(", ");
          }
          
          assignDiv.innerHTML = `
            <div>${assignedByHtml}</div>
            <div>${assignedToHtml}</div>
          `;
          
          div.appendChild(assignDiv);
          
          div.addEventListener("click", () => {
            // Переключаем отображение контента без анимации нажатия
            content.classList.toggle('visible');
          });
          
          col.appendChild(div);
        });
        
        container.appendChild(col);
      });
      
      // Обновление состояния кнопок навигации
      document.getElementById("prev").disabled = state.currentIndex === 0;
      document.getElementById("next").disabled = state.currentIndex + state.visibleCount >= state.grouped.length;
      
      // Добавляем класс для анимации появления
      container.classList.remove("fade-out");
      container.classList.add("fade-in");
      
      // Сбрасываем флаг перехода после завершения анимации
      setTimeout(() => {
        state.isTransitioning = false;
      }, 300);
    }, 300);
  }
  // Инициализация навигации
  function initNavigation() {
    document.getElementById("prev").addEventListener("click", () => {
      if (state.currentIndex > 0 && !state.isTransitioning) {
        state.currentIndex -= state.visibleCount;
        render();
      }
    });
    
    document.getElementById("next").addEventListener("click", () => {
      if (state.currentIndex + state.visibleCount < state.grouped.length && !state.isTransitioning) {
        state.currentIndex += state.visibleCount;
        render();
      }
    });
  }
  // Основная функция инициализации
  async function init() {
    // Показываем индикатор загрузки
    document.getElementById("columns").innerHTML = '<div class="loading">Загрузка данных...</div>';
    
    // Загружаем данные администраторов
    await loadAdminData();
    
    // Загружаем данные плана
    await loadPlanData();
    
    // Инициализируем навигацию
    initNavigation();
    
    // Отрисовываем интерфейс
    render();
  }
  // Запускаем приложение после загрузки DOM
  document.addEventListener("DOMContentLoaded", init);
</script>
<!-- ФУТЕР M5WIKI -->
<div class="m5-footer">
  <div class="gradient-top"></div>
  <div class="container fade-in">
    <div class="divider"></div>
    <div class="cards">
      <div class="card">
        <img src="https://raw.githubusercontent.com/M5wiki/M5wikicode/main/image/footer/admin.png" alt="Admin">
        <h3>Администраторы</h3>
        <p>Познакомься с командой, которая развивает и поддерживает M5Wiki — создатели, админы и модераторы.</p>
        <a href="data:text/plain,test" class="button" target="_blank">Смотреть список</a>
      </div>
      <div class="card">
        <img src="https://raw.githubusercontent.com/M5wiki/M5wikicode/main/image/footer/M5_wiki.png" alt="@M5_wiki">
        <h3>@M5_wiki</h3>
        <p>Маяк всех обновлений. Этот канал — твой проводник в мир возможностей и вдохновения с M5Stack.</p>
        <a href="https://t.me/M5_wiki" class="button" target="_blank">Перейти в канал</a>
      </div>
      <div class="card">
        <img src="https://raw.githubusercontent.com/M5wiki/M5wikicode/main/image/footer/M5ProjectBase.png" alt="@M5ProjectBase">
        <h3>@M5ProjectBase</h3>
        <p>Канал для новичков с M5Stick. Тут собраны полезные материалы и файлы, а ещё можно пообщаться с единомышленниками.</p>
        <a href="https://t.me/M5ProjectBase" class="button" target="_blank">Перейти в канал</a>
      </div>
      <div class="card">
        <img src="https://raw.githubusercontent.com/M5wiki/M5wikicode/main/image/footer/m5wiki_chat.png" alt="M5Wiki Chat">
        <h3>@M5_wiki_chat</h3>
        <p>Место, где идеи становятся проектами. Обсуждения, помощь и творчество — всё в одном чате.</p>
        <a href="https://t.me/+bkGlYuJNGrMzN2Yy" class="button" target="_blank">Присоединиться</a>
      </div>
    </div>
    <div class="divider"></div>
    <div class="disclaimer">
      <div class="disclaimer-title">Дисклеймер M5Wiki</div>
      <p>M5Wiki предоставляет информацию о возможностях работы с устройствами M5StickC, ESP и другими совместимыми компонентами исключительно в образовательных и демонстрационных целях.</p>
      <p>Мы не призываем к использованию представленных материалов в незаконных или несанкционированных целях. Вся информация предназначена только для работы с вашими собственными устройствами или с явного согласия их владельцев.</p>
      <p>Неавторизованное вмешательство в работу чужих устройств, систем или сетей может нарушать законодательство и привести к юридической ответственности. Кроме того, любые эксперименты с электроникой могут привести к повреждению оборудования или потере данных.</p>
      <p>Администрация M5Wiki не несёт ответственности за последствия использования материалов сайта. Пользователи должны действовать в рамках закона и с пониманием возможных рисков.</p>
      <p>Использование сайта M5Wiki регулируется нашей Политикой использования, где подробно изложены правила, ответственность пользователей и защита персональных данных.</p>
    </div>
  </div>
</div>
</body>
</html>
